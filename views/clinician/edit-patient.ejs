<%- include('includes/head.ejs') %>
<body>
    <%- include('includes/navigation.ejs') %>
    <main class="container">
        <form action="/clinician/edit-patient" method="POST">
        <div class="row">
            <div class="col-12">
                <h1>Edit the patient</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" name="name" id="name" value="<%= patient.name %>" class="form-control">
                </div>                                                 
            </div>
            <div class="col-6">
                <div class="row mt-3">
                    <div class="col-12 text-left">
                        <input class="fas" type="radio" name="store_data" id="RadioLocalStoragePatient" value="local_storage_patient" <%= patient.upload_store_media == 1 ? 'checked' : '' %>>
                        <label for="RadioLocalStoragePatient">
                            Local Storage - Patient's Side
                        </label>
                    </div>
                    <div class="col-12 text-left">
                        <input class="fas" type="radio" name="store_data" id="RadioLocalStorageClinician" value="local_storage_clinician" <%= patient.upload_store_media == 3 ? 'checked' : '' %>>
                        <label for="RadioLocalStorageClinician">
                            Local Storage - Clinician's Side
                        </label>
                    </div>
                    <div class="col-12 text-left">
                        <input class="fas" type="radio" name="store_data" id="RadioServerStorage" value="server_storage" <%= patient.upload_store_media == 0 ? 'checked' : '' %>>
                        <label for="RadioServerStorage">
                            Server Storage
                        </label>
                    </div>
                    <div class="col-12 text-left">
                        <input class="fas" type="radio" name="store_data" id="RadioMixedStorage" value="mixed_storage" <%= patient.upload_store_media == 2 ? 'checked' : '' %>>
                        <label for="RadioMixedStorage">
                            Mixed Storage - Patient's Side
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label for="family_name">Family name</label>
                    <input type="text" name="family_name" id="family_name" value="<%= patient.family_name %>" class="form-control">
                </div>            
            </div>
            <div class="col-6">                                     
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label for="birthday">Birthday</label>
                    <input type="text" name="birthday" id="birthday" value="<%= patient.birthday %>" class="form-control">
                </div>            
            </div>
            <div class="col-6">                                     
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label for="address">Address</label>
                    <input type="text" name="address" id="address" value="<%= patient.address %>" class="form-control">
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label for="cp_name">Contact Person: Name</label>
                    <input type="text" name="cp_name" id="cp_name" value="<%= patient.cp_name %>" class="form-control">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label for="phone">Phone</label>
                    <input type="text" name="phone" id="phone" value="<%= patient.phone %>" class="form-control">
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label for="cp_family_name">Contact Person: Family name</label>
                    <input type="text" name="cp_family_name" id="cp_family_name" value="<%= patient.cp_family_name %>" class="form-control">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input class="w3-input w3-border" type="text" name="email" id="email" value="<%= patient.email %>">
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label for="cp_address">Contact Person: Address</label>
                    <input type="text" name="cp_address" id="cp_address" value="<%= patient.cp_address %>" class="form-control">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label>Sexe</label>
                    <select class="form-control" id="sex" name="sex">
                        <option value="0" <%= patient.sex == 0 ? 'selected' : '' %>>Femme</option>
                        <option value="1" <%= patient.sex == 1 ? 'selected' : '' %>>Homme</option>
                    </select>
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label for="cp_phone">Contact Person: Phone</label>
                    <input type="text" name="cp_phone" id="cp_phone" value="<%= patient.cp_phone %>" class="form-control">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label>Niveau d’éducation</label>
                    <select class="form-control" id="education" name="education">
                        <% for (let edu of edus) { %>
                            <option value="<%= edu.id %>" <%= edu.id == patient.id_education ? 'selected' : '' %>><%= edu.name %></option>
                        <% } %>
                    </select>
                </div>
            </div>
            <div class="col-6">
                <div class="form-group">
                    <label for="cp_email">Contact Person: Email</label>
                    <input type="text" name="cp_email" id="cp_email" value="<%= patient.cp_email %>" class="form-control">
                </div>                
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <div class="form-group">
                    <label for="bildungsniveau">UPD - RMC / Bildungsniveau</label>
                    <input class="w3-input w3-border" type="text" name="bildungsniveau" id="bildungsniveau" value="<%= patient.bildungsniveau %>">                </div>
            </div>
            <div class="col-6">                
            </div>
        </div>  
        <div class="row">
            <div class="col-12">
                <button class="btn btn-primary btn-lg" type="submit">Modify</button>
                <input type="hidden" id="id" name="id" value="<%= patient.IDPatient %>">
            </div>
        </div>
        </form>        
    </main>
</body>
<%- include('includes/end.ejs') %>